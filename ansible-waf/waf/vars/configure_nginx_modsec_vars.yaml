# waf/vars/configure_nginx_modsec_vars.yaml

# Nginx ì„¤ì • ê²½ë¡œ
nginx_conf_dir: "/usr/local/nginx/conf"
nginx_conf_d_dir: "/usr/local/nginx/conf/conf.d"
nginx_default_conf: "/usr/local/nginx/conf/conf.d/default.conf"

# ModSecurity ëª¨ë“ˆ/ë¼ì´ë¸ŒëŸ¬ë¦¬ ê²½ë¡œ
load_module_path: "/usr/local/nginx/modules/ngx_http_modsecurity_module.so"
modsecurity_rules_file: "/usr/local/nginx/modsecurity.conf"
modsecurity_ld_conf: "/etc/ld.so.conf.d/modsecurity.conf"
modsecurity_lib_path: "/usr/local/modsecurity/lib"

# ğŸ”¥ ì—¬ê¸°ì„œ backend_upstream ì„ **Ingress LB IP**ë¡œ ì„¤ì •
#    ì§€ê¸ˆ í™˜ê²½ ê¸°ì¤€ ì˜ˆì‹œ: 192.168.154.151 (ingress-nginx-controller EXTERNAL-IP)
backend_upstream: "172.16.6.138"

# âœ… í…œí”Œë¦¿ì—ì„œ ì‹¤ì œë¡œ ì“°ëŠ” ë³€ìˆ˜ë“¤
ingress_ip: "172.16.6.139"   # kubectl get svc -n ingress-nginx í•´ì„œ ë‚˜ì˜¨ EXTERNAL-IP

# ModSecurity / CRS ê¶Œí•œìš©
modsecurity_user: "nginx"
modsecurity_group: "nginx"

modsecurity_crs_base_dir: "/usr/local/modsecurity-crs"
